<!DOCTYPE html>
<html>
<head>
  <title>Advanced Bookmarker - Options</title>
  <style>
    :root {
      /* Default theme (Light Pastel) */
      --theme-bg-primary: #f0f8ff; /* Light pastel background - AliceBlue */
      --theme-bg-secondary: #ffffff; /* Card backgrounds, controls */
      --theme-text-primary: #333333; /* Main text */
      --theme-text-secondary: #555555; /* Subdued text */
      --theme-accent-primary: #98fb98; /* Pastel green for accents */
      --theme-accent-secondary: #dda0dd; /* Pastel purple for other accents */
      --theme-border-color: #d3d3d3; /* Light grey border */
      --theme-shadow-color: rgba(0,0,0,0.1);
      --theme-button-bg: #e9ecef;
      --theme-button-text: #495057;
      --theme-button-hover-bg: #dee2e6;
      --theme-link-color: #663399; /* Rebeccapurple as a pastel-ish link */
    }

    body[data-theme="dark_mode"] {
      --theme-bg-primary: #0a192f;    /* Dark blue/black background */
      --theme-bg-secondary: #172a45;  /* Card backgrounds - slightly lighter dark blue */
      --theme-text-primary: #e6f1ff;  /* Light text for readability */
      --theme-text-secondary: #a8b2d1;/* Subdued light text */
      --theme-accent-primary: #00a8ff; /* Bright blue for accents */
      --theme-accent-secondary: #304ffe;/* Another blue for other accents */
      --theme-border-color: #303f5a;  /* Darker border */
      --theme-shadow-color: rgba(0,0,0,0.3); /* Darker shadow */
      --theme-button-bg: #233554;
      --theme-button-text: #e6f1ff;
      --theme-button-hover-bg: #304a6d;
      --theme-link-color: #88ccff; /* Lighter blue for links */
    }
    
    body {
      font-family: sans-serif;
      margin: 0; /* Remove default margin */
      background-color: var(--theme-bg-primary);
      color: var(--theme-text-primary);
      transition: background-color 0.3s, color 0.3s;
      height: 100vh;
      overflow: hidden; /* Prevent body scrollbars, main-content will scroll */
    }
    .options-container {
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 60px; /* Narrow by default */
      background-color: var(--theme-bg-secondary);
      padding: 15px; /* Adjusted padding for narrow view */
      height: 100%;
      box-shadow: 2px 0 5px var(--theme-shadow-color);
      border-right: 1px solid var(--theme-border-color);
      display: flex;
      flex-direction: column;
      transition: width 0.25s ease-in-out; /* Updated transition */
      overflow-x: hidden; /* Hide text that overflows during transition */
    }
    .sidebar:hover {
      width: 220px; /* Expanded width */
    }
    .sidebar h2 {
      font-size: 1.2em;
      color: var(--theme-text-primary);
      margin-top: 0;
      margin-bottom: 20px;
      text-align: center; /* Center icon in narrow view */
      white-space: nowrap;
    }
    .sidebar h2 .icon-placeholder {
      margin: 0 auto; /* Center the icon placeholder if text is hidden */
    }
    .sidebar h2 .link-text {
      display: none;
    }
    .sidebar:hover h2 .link-text {
      display: inline;
    }
    .sidebar:hover h2 .icon-placeholder {
      margin-right: 10px; /* Space for text */
      margin-left: 0; /* Reset auto margin */
    }
    .sidebar:hover h2 {
      text-align: left; /* Align text to left when expanded */
    }
    .sidebar a {
      display: flex;
      align-items: center;
      padding: 10px;
      color: var(--theme-text-primary);
      text-decoration: none;
      border-radius: 6px;
      margin-bottom: 8px;
      transition: background-color 0.2s ease, color 0.2s ease;
      white-space: nowrap;
    }
    .sidebar a .icon-placeholder {
      display: inline-block;
      width: 20px;
      height: 20px;
      flex-shrink: 0;
      margin: 0 auto; /* Center icon when text is hidden */
    }
    .sidebar a .link-text {
      display: none;
      margin-left: 10px;
    }
    .sidebar:hover a .icon-placeholder {
      margin-left: 0; /* Reset auto margin for icon */
      margin-right: 0; /* Ensure no extra right margin if text is short */
    }
    .sidebar:hover a .link-text {
      display: inline;
    }
    .sidebar:hover a {
      padding: 10px 15px;
      justify-content: flex-start; /* Align items to start when expanded */
    }
    .sidebar a:hover {
      background-color: var(--theme-accent-primary);
      color: var(--theme-bg-primary);
    }
    .sidebar a.active {
      background-color: var(--theme-accent-secondary);
      color: #ffffff;
      font-weight: bold;
    }
    .main-content {
      flex-grow: 1;
      padding: 20px;
      overflow-y: auto;
      height: 100%;
      box-sizing: border-box;
      margin-left: 60px; /* Default margin for narrow sidebar */
      transition: margin-left 0.25s ease-in-out; /* Updated transition */
    }
    .options-container.sidebar-expanded .main-content { /* JS will toggle this class */
      margin-left: 220px; /* Expanded margin */
    }
    .content-section {
      display: none; /* Hidden by default */
      animation: fadeIn 0.5s; /* Simple fade-in animation */
    }
    .content-section.active-content {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Original .container is no longer used for full page layout, but might be useful for section content */
    .container {
      padding: 0; /* Reset padding if used within main-content */
      max-width: 100%; /* Sections will take available width */
      margin: 0 auto;
      border-radius: 8px; /* Keep for consistency if used */
    }

    h1 { /* General H1, if used in main-content header */
      color: var(--theme-text-primary);
      margin-top: 0; /* Adjust if it's the first element in main-content */
      margin-bottom: 20px;
      font-size: 24px;
    }
    /* Adjust section titles within the new structure */
    .content-section h2, .section-title { /* Specific H2s for sections */
      color: var(--theme-text-primary);
      border-bottom: 1px solid var(--theme-border-color);
      font-size: 20px;
      margin-top: 0; /* First element in a content section */
      margin-bottom: 15px;
      padding-bottom: 8px;
    }
    /* Ensure settings section title is also adapted if needed */
    #content-settings .settings-section > h2 {
         margin-top: 0; /* Already part of settings section, so no extra top margin */
    }

    .create-folder-btn {
      padding: 8px 12px;
      background-color: var(--theme-accent-primary);
      color: var(--theme-button-text); /* Match text color for accents or choose contrasting */
      border: 1px solid var(--theme-accent-primary);
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      font-size: 0.9em;
      margin-bottom: 15px; /* Space below button */
    }
    .create-folder-btn:hover {
      background-color: var(--theme-accent-secondary); /* Or a darker shade of accent */
    }
    body[data-theme="dark_mode"] .create-folder-btn {
        color: var(--theme-bg-primary); /* Ensure contrast on dark theme */
    }


    .sub-heading {
      font-size: 0.9em;
      color: var(--theme-text-secondary);
      margin-top: 20px; /* Increased space above sub-heading */
      margin-bottom: 10px; /* Increased space below sub-heading */
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600; /* Slightly bolder */
      border-bottom: 1px solid var(--theme-border-color); /* Optional: separator line */
      padding-bottom: 5px; /* Padding for the separator line */
    }
    .folder-list {
      list-style-type: none;
      padding: 0;
      margin-bottom: 30px; /* More space after folder list */
      display: grid; /* Using grid for folders as well */
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Adjust minmax for folder items */
      gap: 10px; /* Gap between folder items */
    }
    .folder-item {
      background-color: var(--theme-button-bg);
      padding: 12px 15px; /* Increased padding */
      /* margin-bottom: 8px; Removed as grid gap handles spacing */
      border-radius: 6px;
      cursor: pointer;
      border: 1px solid var(--theme-border-color);
      text-align: center; /* Center folder name */
      font-weight: 500;
      color: var(--theme-text-primary);
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }
    .folder-item:hover {
      background-color: var(--theme-button-hover-bg);
      box-shadow: 0 2px 4px var(--theme-shadow-color);
    }
    .folder-item.drag-over {
      background-color: var(--theme-accent-secondary) !important; /* Use !important to override hover if necessary */
      opacity: 0.8;
      border-style: dashed;
      border-color: var(--theme-text-primary); /* Make border more visible */
    }
    .nested-bookmark-list {
      margin-top: 10px; /* Space between folder name and its bookmarks */
      padding-left: 15px; /* Indent nested bookmarks slightly */
      /* Nested lists will use the same .bookmark-list grid styles */
    }
    .empty-folder-placeholder { /* Optional: if you add placeholders to empty folders */
        font-size: 0.9em;
        color: var(--theme-text-secondary);
        text-align: center;
        padding: 10px;
    }


    .bookmark-list {
      list-style-type: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 15px;
    }

    .bookmark-item {
      background-color: var(--theme-bg-secondary);
      border-radius: 8px; /* Consistent rounded corners */
      box-shadow: 0 4px 8px var(--theme-shadow-color);
      overflow: hidden; /* Keep this to respect border-radius with images */
      display: flex;
      flex-direction: column;
      transition: box-shadow 0.3s ease, transform 0.2s ease;
    }
    .bookmark-item:hover {
      box-shadow: 0 6px 12px var(--theme-shadow-color); /* Adjusted for variable */
      transform: translateY(-3px);
    }

    .bookmark-image-container {
        width: 100%;
        height: 150px;
        overflow: hidden;
        background-color: var(--theme-button-bg); /* Using button bg for placeholder container */
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .bookmark-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .bookmark-favicon {
        width: 48px;
        height: 48px;
        object-fit: contain;
        padding: 5px;
    }
    .bookmark-image-placeholder {
        width: 100%;
        height: 150px;
        background-color: var(--theme-button-bg); /* Using button bg */
        display: flex;
        justify-content: center;
        align-items: center;
        color: var(--theme-text-secondary); /* Subdued text for placeholder */
        font-size: 1.2em;
    }
    .bookmark-image-placeholder::before {
        content: "No Image";
    }

    /* Specific thumbnail/placeholder sizes based on bookmark type */
    .bookmark-item[data-type="website"] .bookmark-image-container {
      height: 48px;
      width: 48px;
      min-width: 48px;
      background-color: transparent; /* Allow favicon transparency to show */
      margin-bottom: 5px; /* Add some space below small icon */
    }
    .bookmark-item[data-type="website"] .bookmark-image {
      object-fit: contain;
      max-height: 100%;
      max-width: 100%;
    }
    .bookmark-item[data-type="website"] .bookmark-image-placeholder {
      height: 48px;
      width: 48px;
      font-size: 0.8em;
    }
    .bookmark-item[data-type="website"] .bookmark-image-placeholder::before {
      content: "Icon";
    }

    .bookmark-item[data-type="youtube_channel"] .bookmark-image-container {
      height: 80px;
      /* width: 100%; Default is 100%, can be kept or made specific */
    }
    .bookmark-item[data-type="youtube_channel"] .bookmark-image {
      object-fit: cover;
    }
    .bookmark-item[data-type="youtube_channel"] .bookmark-image-placeholder {
      height: 80px;
      font-size: 0.9em;
    }
    .bookmark-item[data-type="youtube_channel"] .bookmark-image-placeholder::before {
      content: "Channel Art";
    }

    .bookmark-info {
      padding: 15px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .bookmark-title {
      font-weight: 600;
      font-size: 1.1em;
      color: var(--theme-text-primary);
      margin-bottom: 8px;
      line-height: 1.3;
    }
    .bookmark-url {
      font-size: 0.85em;
      color: var(--theme-link-color);
      text-decoration: none;
      word-break: break-all;
      margin-bottom: 10px;
    }
    .bookmark-url:hover {
      text-decoration: underline;
    }
    .bookmark-selection-text {
      font-size: 0.9em;
      color: var(--theme-text-secondary);
      background-color: var(--theme-bg-primary); /* Off-primary for slight contrast */
      border: 1px solid var(--theme-border-color);
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 10px;
      font-style: italic;
    }
    .bookmark-date {
      font-size: 0.75em;
      color: var(--theme-text-secondary);
      margin-top: auto;
    }

    .bookmark-actions {
      padding: 10px 15px;
      background-color: var(--theme-bg-primary); /* Off-primary for footer area */
      border-top: 1px solid var(--theme-border-color);
      display: flex;
      justify-content: flex-end;
    }
    .bookmark-actions button {
      cursor: pointer;
      padding: 6px 12px;
      font-size: 0.85em;
      border: 1px solid var(--theme-border-color); /* Use theme border */
      border-radius: 4px;
      background-color: var(--theme-button-bg);
      color: var(--theme-button-text);
      transition: background-color 0.2s ease;
    }
    .bookmark-actions button:hover {
      background-color: var(--theme-button-hover-bg);
    }
    .bookmark-actions .confirm-delete-yes,
    .bookmark-actions .confirm-delete-no {
      padding: 4px 8px; /* Smaller padding for confirm buttons */
      font-size: 0.8em; /* Smaller font */
      margin-left: 5px;
      /* border-radius is inherited from .bookmark-actions button */
      /* transition is inherited */
    }
    .confirm-delete-yes {
      background-color: var(--theme-accent-secondary); /* Using a theme variable, could be a red */
      color: white; /* Ensure contrast */
      border-color: var(--theme-accent-secondary);
    }
    .confirm-delete-yes:hover {
      background-color: #c82333; /* A common darker red for delete confirm hover */
      border-color: #bd2130;
    }
    /* .confirm-delete-no uses default button styles, so no specific overrides needed unless desired */
    /* For instance, if you want 'No' to look less prominent than default action button: */
    .confirm-delete-no {
       /* background-color: var(--theme-button-bg); */ /* Already default */
       /* color: var(--theme-button-text); */ /* Already default */
       /* border: 1px solid var(--theme-border-color); */ /* Already default */
    }
    .confirm-delete-no:hover {
      /* background-color: var(--theme-button-hover-bg); */ /* Already default */
    }
    
    /* D&D Styles */
    .dnd-enabled .bookmark-item {
      cursor: move;
    }
    .bookmark-item.dragging {
      opacity: 0.6; /* Adjusted opacity */
      box-shadow: 0 8px 16px var(--theme-shadow-color); /* More pronounced shadow */
      border: 1px dashed var(--theme-accent-primary); /* Use accent for border */
    }
    .bookmark-item.drag-over {
      background-color: var(--theme-accent-secondary); /* Use accent for highlight */
      opacity: 0.7;
    }
    
    /* Controls, Settings, Theme Selector */
    .settings-section { /* Wrapper for all settings */
        background-color: var(--theme-bg-secondary);
        padding: 20px; /* Increased padding for a better look */
        border-radius: 8px; /* Consistent rounded corners */
        /* margin-bottom: 30px; No longer needed as it's in its own section */
        box-shadow: 0 2px 4px var(--theme-shadow-color);
    }
    .controls { /* Specific to import/export/dnd toggle row */
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 15px; /* Increased gap */
      padding-bottom: 15px;
      border-bottom: 1px solid var(--theme-border-color);
      margin-bottom: 15px;
    }
    .controls button, 
    .controls input[type="file"], 
    .controls .setting-toggle, 
    .theme-selector select {
      padding: 10px 15px; /* Larger clickable area */
      background-color: var(--theme-button-bg);
      color: var(--theme-button-text);
      border: 1px solid var(--theme-border-color);
      border-radius: 6px; /* Consistent rounded corners */
      cursor: pointer;
      transition: background-color 0.2s ease;
      font-size: 0.9em;
    }
    .controls button:hover, 
    .controls input[type="file"]:hover, 
    .controls .setting-toggle:hover, 
    .theme-selector select:hover {
      background-color: var(--theme-button-hover-bg);
    }
    .controls .setting-toggle {
        display: inline-flex;
        align-items: center;
        background-color: transparent;
        border: none;
        padding: 0;
    }
    .setting-toggle label, .theme-selector label {
        color: var(--theme-text-primary);
        margin-right: 8px;
        font-size: 0.9em;
    }
    .setting-toggle input[type="checkbox"] {
      width: 20px; /* Slightly larger checkbox */
      height: 20px;
      cursor: pointer;
      accent-color: var(--theme-accent-primary);
    }
    #importFileLabel {
        margin-right: 10px; /* Kept */
    }
    #importStatus {
        color: var(--theme-text-secondary);
        font-size: 0.9em;
        margin-left: 10px; /* Kept */
    }
    .theme-selector {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .theme-selector select {
        min-width: 220px; /* Wider select */
    }

  </style>
</head>
<body>
  <div class="options-container"> <!-- Will add class 'sidebar-expanded' via JS -->
    <div class="sidebar">
      <h2><i class="icon-placeholder"></i><span class="link-text">Savee Menu</span></h2> <!-- Updated title -->
      <a href="#" data-target="videos"><i class="icon-placeholder"></i><span class="link-text">YouTube Videos</span></a>
      <a href="#" data-target="channels"><i class="icon-placeholder"></i><span class="link-text">YouTube Channels</span></a>
      <a href="#" data-target="websites"><i class="icon-placeholder"></i><span class="link-text">Websites</span></a>
      <a href="#" data-target="webpages"><i class="icon-placeholder"></i><span class="link-text">Webpages</span></a>
      <a href="#" data-target="selections"><i class="icon-placeholder"></i><span class="link-text">Selections &amp; Notes</span></a>
      <a href="#" data-target="settings"><i class="icon-placeholder"></i><span class="link-text">Settings</span></a>
    </div>
    <div class="main-content">
      <h1>My Bookmarks</h1> <!-- General title for the main content area -->

      <div id="content-webpages" class="content-section">
        <h2 class="section-title">Webpages</h2>
        <button class="create-folder-btn" data-section-type="webpages">Create Folder</button>
        <div class="section-controls"></div>
        <h3 class="sub-heading">Folders</h3>
        <ul id="webpages-foldersList" class="folder-list"></ul>
        <h3 class="sub-heading">My Webpages</h3>
        <ul id="webpagesList" class="bookmark-list"></ul>
      </div>

      <div id="content-websites" class="content-section">
        <h2 class="section-title">Websites</h2>
        <button class="create-folder-btn" data-section-type="websites">Create Folder</button>
        <div class="section-controls"></div>
        <h3 class="sub-heading">Folders</h3>
        <ul id="websites-foldersList" class="folder-list"></ul>
        <h3 class="sub-heading">My Websites</h3>
        <ul id="websitesList" class="bookmark-list"></ul>
      </div>

      <div id="content-videos" class="content-section">
        <h2 class="section-title">YouTube Videos</h2>
        <button class="create-folder-btn" data-section-type="videos">Create Folder</button>
        <div class="section-controls"></div>
        <h3 class="sub-heading">Folders</h3>
        <ul id="videos-foldersList" class="folder-list"></ul>
        <h3 class="sub-heading">My Videos</h3>
        <ul id="youtubeVideosList" class="bookmark-list"></ul>
      </div>

      <div id="content-channels" class="content-section">
        <h2 class="section-title">YouTube Channels</h2>
        <button class="create-folder-btn" data-section-type="channels">Create Folder</button>
        <div class="section-controls"></div>
        <h3 class="sub-heading">Folders</h3>
        <ul id="channels-foldersList" class="folder-list"></ul>
        <h3 class="sub-heading">My Channels</h3>
        <ul id="youtubeChannelsList" class="bookmark-list"></ul>
      </div>

      <div id="content-selections" class="content-section">
        <h2 class="section-title">Selections &amp; Notes</h2>
        <button class="create-folder-btn" data-section-type="selections">Create Folder</button>
        <div class="section-controls"></div>
        <h3 class="sub-heading">Folders</h3>
        <ul id="selections-foldersList" class="folder-list"></ul>
        <h3 class="sub-heading">My Selections</h3>
        <ul id="selectionsList" class="bookmark-list"></ul>
      </div>

      <div id="content-settings" class="content-section">
        <!-- Existing settings section will be moved here by JS logic in a real scenario,
             but for direct HTML modification, we move it now.
             The original .settings-section div is moved entirely. -->
        <div class="settings-section">
          <h2>Settings</h2>
          <div class="controls">
            <button id="exportBtn">Export Bookmarks</button>
            <label for="importFile" id="importFileLabel">Import Bookmarks:</label>
            <input type="file" id="importFile" accept=".json">
            <span id="importStatus"></span>

            <div class="setting-toggle">
              <label for="dragDropToggle">Enable Drag &amp; Drop Reordering:</label>
              <input type="checkbox" id="dragDropToggle">
            </div>
          </div>
          <div class="theme-selector">
            <label for="themeSelect">Select Theme:</label>
            <select id="themeSelect">
              <option value="light_pastel">Light (Pastel Green/Purple)</option>
              <option value="dark_mode">Dark (Blue/Black)</option>
              <option value="system_default">System Default</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="options.js"></script>
</body>
</html>
